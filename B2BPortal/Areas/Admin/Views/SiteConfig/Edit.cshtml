@model B2BPortal.Models.SiteConfig

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>

@using (Html.BeginForm("Save", "SiteConfig", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Site Configuration</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.Id)
        @Html.HiddenFor(model => model.ConfigVersion)

        <div class="form-group">
            @Html.LabelFor(model => model.SiteName, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-3">
                @Html.EditorFor(model => model.SiteName, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.SiteName, "", new { @class = "text-danger" })
            </div>
            <div class="col-md-7">
                Name that will be displayed on the front page and in invitation emails (like "My Org Name Guest Enrollment").
            </div>
        </div>
        <hr />

        <div class="form-group">
            @Html.LabelFor(model => model.InvitingOrg, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-3">
                @Html.EditorFor(model => model.InvitingOrg, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.InvitingOrg, "", new { @class = "text-danger" })
            </div>
            <div class="col-md-7">
                Name that will be displayed in the site title and in other areas that identify the org name.
            </div>
        </div>
        <hr />

        <div class="form-group">
            @Html.LabelFor(model => model.InviterResponseEmailAddr, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-3">
                @Html.EditorFor(model => model.InviterResponseEmailAddr, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.InviterResponseEmailAddr, "", new { @class = "text-danger" })
            </div>
            <div class="col-md-7">
                Return email address used in invitations and other places throughout the site.
            </div>
        </div>
        <hr />

        <div class="form-group">
            @Html.LabelFor(model => model.InviteRedirectUrl, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-3">
                @Html.EditorFor(model => model.InviteRedirectUrl, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.InviteRedirectUrl, "", new { @class = "text-danger" })
            </div>
            <div class="col-md-7">
                Default site that guests are returned to after redeeming an invitation.
                May be overridden by pre-auth domain configurations.
            </div>
        </div>
        <hr />

        <div class="form-group">
            @Html.LabelFor(model => model.WelcomeMessage, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-3">
                <textarea name="WelcomeMessage" class="form-control" rows="5">@Model.WelcomeMessage</textarea>
            </div>
            <div class="col-md-7">
                Brief text narrative explaining the purpose of the site, those invited,
                apps that might be made available, instructions, rules, etc. Optional. Plain text only.
            </div>
        </div>
        <hr />

        <div class="form-group">
            @Html.LabelFor(model => model.RequirePreauth, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-3">
                <div class="checkbox">
                    @Html.EditorFor(model => model.RequirePreauth)
                    @Html.ValidationMessageFor(model => model.RequirePreauth, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="col-md-7">
                If checked, users will only be able to submit an invitation request after authenticating
                to their home Azure Active Directory tenant.
            </div>
        </div>
        <hr />

        <div class="form-group">
            @Html.LabelFor(model => model.TOSDocument, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-3">
                <textarea class="form-control" rows="5" name="TOSDocument">@Model.TOSDocument</textarea>
            </div>
            <div class="col-md-7">
                Terms of Service for guest access. Basic HTML or plain text acceptable (SCRIPT and other risky tags will be removed).
            </div>
        </div>
        <hr />

        <div class="form-group">
            @Html.LabelFor(model => model.RequireTOSAgreement, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-3">
                <div class="checkbox">
                    @Html.EditorFor(model => model.RequireTOSAgreement)
                    @Html.ValidationMessageFor(model => model.RequireTOSAgreement, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="col-md-7">
                If checked, users will only be able to proceed if they have checked to affirm their
                agreement with the Terms of Service.
            </div>
        </div>
        <hr />

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-primary" />
                @Html.ActionLink("Back to List", "Index", new { area = "admin" }, new { @class = "btn btn-default" })
            </div>
        </div>
    </div>
}

